<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Watch and download Facebook videos without copyright restrictions. Free Facebook video viewer with multiple download options.">
    <meta name="keywords" content="Facebook video, video viewer, copyright free, download Facebook videos, embed Facebook videos">
    <title>Premium Facebook Video Viewer | Watch & Download Videos</title>
    
    <!-- Schema.org markup for Google -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Facebook Video Viewer Pro",
      "url": "https://yourwebsite.com",
      "description": "Premium tool for watching and downloading Facebook videos without restrictions.",
      "applicationCategory": "MultimediaApplication",
      "operatingSystem": "Any"
    }
    </script>
    
    <!-- Favicon -->
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    
    <!-- CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #1877f2;
            --secondary-color: #42b72a;
            --dark-color: #1c1e21;
            --light-color: #f0f2f5;
            --text-color: #050505;
            --text-secondary: #65676b;
            --success-color: #31a24c;
            --warning-color: #ff9800;
            --error-color: #f44336;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }
        
        body {
            background-color: var(--light-color);
            color: var(--text-color);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
        }
        
        header {
            background-color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }
        
        .logo {
            font-size: 26px;
            font-weight: 700;
            color: var(--primary-color);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 25px;
        }
        
        nav ul li a {
            text-decoration: none;
            color: var(--text-color);
            font-weight: 500;
            transition: all 0.3s ease;
            padding: 5px 0;
            position: relative;
        }
        
        nav ul li a:hover {
            color: var(--primary-color);
        }
        
        nav ul li a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--primary-color);
            transition: width 0.3s ease;
        }
        
        nav ul li a:hover::after {
            width: 100%;
        }
        
        .mobile-menu {
            display: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--dark-color);
        }
        
        .hero {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 80px 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: -50px;
            right: -50px;
            width: 200px;
            height: 200px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
        }
        
        .hero::after {
            content: '';
            position: absolute;
            bottom: -80px;
            left: -80px;
            width: 300px;
            height: 300px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
        }
        
        .hero h1 {
            font-size: 2.8rem;
            margin-bottom: 20px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        
        .hero p {
            font-size: 1.25rem;
            max-width: 700px;
            margin: 0 auto 40px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        
        .video-input-container {
            max-width: 700px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }
        
        .video-input {
            display: flex;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .video-input input {
            flex: 1;
            padding: 18px 20px;
            border: none;
            font-size: 16px;
            outline: none;
        }
        
        .video-input button {
            background-color: var(--dark-color);
            color: white;
            border: none;
            padding: 0 30px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .video-input button:hover {
            background-color: #333;
        }
        
        .main-content {
            padding: 50px 0;
        }
        
        .video-container {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            padding: 25px;
            margin-bottom: 40px;
            transition: all 0.3s ease;
        }
        
        .video-container:hover {
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }
        
        .video-wrapper {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
            margin-bottom: 20px;
            border-radius: 8px;
            background: #000;
        }
        
        .video-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }
        
        .video-info h2 {
            margin-bottom: 12px;
            font-size: 1.6rem;
            color: var(--dark-color);
        }
        
        .video-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            color: var(--text-secondary);
            margin-bottom: 20px;
            font-size: 0.95rem;
        }
        
        .video-meta span {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .video-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-top: 25px;
        }
        
        .action-btn {
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            border: none;
            font-size: 15px;
        }
        
        .download-btn {
            background-color: var(--primary-color);
            color: white;
        }
        
        .download-btn:hover {
            background-color: #166fe5;
            transform: translateY(-2px);
        }
        
        .download-btn.loading {
            background-color: var(--text-secondary);
            cursor: not-allowed;
            transform: none;
        }
        
        .share-btn {
            background-color: var(--light-color);
            color: var(--dark-color);
        }
        
        .share-btn:hover {
            background-color: #e4e6eb;
            transform: translateY(-2px);
        }
        
        .download-options {
            display: none;
            margin-top: 15px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 8px;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .download-options.show {
            display: block;
        }
        
        .download-options h4 {
            margin-bottom: 12px;
            font-size: 1.1rem;
            color: var(--dark-color);
        }
        
        .quality-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 10px;
        }
        
        .quality-option {
            padding: 12px 15px;
            background-color: white;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 1px solid #ddd;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .quality-option:hover {
            background-color: #f0f2f5;
            border-color: var(--primary-color);
        }
        
        .quality-option .quality-name {
            font-weight: 500;
        }
        
        .quality-option .quality-size {
            color: var(--text-secondary);
            font-size: 0.85rem;
        }
        
        .copyright-notice {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid #eee;
            line-height: 1.7;
        }
        
        .ad-container {
            background-color: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            margin: 35px 0;
            text-align: center;
            border: 1px dashed #ddd;
        }
        
        .ad-label {
            display: block;
            color: var(--text-secondary);
            font-size: 0.8rem;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin: 50px 0;
        }
        
        .feature-card {
            background-color: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .feature-card i {
            font-size: 2.8rem;
            color: var(--primary-color);
            margin-bottom: 20px;
        }
        
        .feature-card h3 {
            margin-bottom: 15px;
            font-size: 1.4rem;
            color: var(--dark-color);
        }
        
        .feature-card p {
            color: var(--text-secondary);
            line-height: 1.7;
        }
        
        footer {
            background-color: var(--dark-color);
            color: white;
            padding: 60px 0 30px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .footer-column h3 {
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: 600;
        }
        
        .footer-column ul {
            list-style: none;
        }
        
        .footer-column ul li {
            margin-bottom: 12px;
        }
        
        .footer-column ul li a {
            color: #b0b3b8;
            text-decoration: none;
            transition: color 0.3s ease;
            display: inline-block;
            padding: 3px 0;
        }
        
        .footer-column ul li a:hover {
            color: white;
            transform: translateX(3px);
        }
        
        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        .social-links a {
            color: white;
            background: rgba(255, 255, 255, 0.1);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .social-links a:hover {
            background: var(--primary-color);
            transform: translateY(-3px);
        }
        
        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid #3e4042;
            color: #b0b3b8;
            font-size: 0.9rem;
        }
        
        /* Toast notification */
        .toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--dark-color);
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 1000;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s ease;
        }
        
        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }
        
        .toast.success {
            background: var(--success-color);
        }
        
        .toast.error {
            background: var(--error-color);
        }
        
        .toast.warning {
            background: var(--warning-color);
        }
        
        /* Responsive styles */
        @media (max-width: 992px) {
            .hero h1 {
                font-size: 2.4rem;
            }
            
            .hero p {
                font-size: 1.15rem;
            }
        }
        
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
                gap: 15px;
            }
            
            nav ul {
                margin-top: 15px;
                justify-content: center;
                gap: 15px;
            }
            
            .hero {
                padding: 60px 0;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .video-input {
                flex-direction: column;
                background: transparent;
                box-shadow: none;
                gap: 10px;
            }
            
            .video-input input {
                border-radius: 8px;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            }
            
            .video-input button {
                border-radius: 8px;
                padding: 15px;
                justify-content: center;
            }
            
            .quality-options {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 576px) {
            .mobile-menu {
                display: block;
            }
            
            nav {
                display: none;
            }
            
            nav.active {
                display: block;
                width: 100%;
            }
            
            nav ul {
                flex-direction: column;
                align-items: center;
                gap: 10px;
            }
            
            .hero {
                padding: 50px 0;
            }
            
            .hero h1 {
                font-size: 1.8rem;
            }
            
            .hero p {
                font-size: 1rem;
            }
            
            .video-actions {
                flex-direction: column;
            }
            
            .action-btn {
                justify-content: center;
                width: 100%;
            }
            
            .toast {
                bottom: 20px;
                right: 20px;
                left: 20px;
                max-width: calc(100% - 40px);
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <a href="index.html" class="logo">
                    <i class="fab fa-facebook"></i> FB Video Pro
                </a>
                
                <div class="mobile-menu">
                    <i class="fas fa-bars"></i>
                </div>
                
                <nav>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="about.html">About</a></li>
                        <li><a href="features.html">Features</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>
    
    <section class="hero">
        <div class="container">
            <h1>Premium Facebook Video Viewer</h1>
            <p>Watch, download, and share Facebook videos in high quality without restrictions</p>
            
            <div class="video-input-container">
                <form id="videoForm" class="video-input">
                    <input type="url" id="videoUrl" placeholder="Paste Facebook video URL here..." required>
                    <button type="submit">
                        <i class="fas fa-play"></i> Watch Now
                    </button>
                </form>
            </div>
        </div>
    </section>
    
    <div class="container">
        <!-- Top Ad Banner -->
        <div class="ad-container">
            <span class="ad-label">Advertisement</span>
            <!-- Google AdSense Ad Unit -->
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-YOUR_ADSENSE_ID"
                crossorigin="anonymous"></script>
            <!-- Responsive Ad Unit -->
            <ins class="adsbygoogle"
                style="display:block"
                data-ad-client="ca-pub-YOUR_ADSENSE_ID"
                data-ad-slot="YOUR_AD_SLOT"
                data-ad-format="auto"
                data-full-width-responsive="true"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>
        
        <main class="main-content">
            <div class="video-container" id="videoResult" style="display: none;">
                <div class="video-wrapper">
                    <iframe id="embeddedVideo" frameborder="0" allowfullscreen></iframe>
                </div>
                <div class="video-info">
                    <h2 id="videoTitle">Facebook Video</h2>
                    <div class="video-meta">
                        <span><i class="far fa-eye"></i> <span id="viewCount">0</span> views</span>
                        <span><i class="far fa-calendar-alt"></i> <span id="uploadDate">Just now</span></span>
                        <span><i class="fas fa-link"></i> <a href="#" id="originalLink" target="_blank">Original Post</a></span>
                    </div>
                    
                    <div class="video-actions">
                        <button id="downloadBtn" class="action-btn download-btn">
                            <i class="fas fa-download"></i> Download Video
                        </button>
                        <button id="shareBtn" class="action-btn share-btn">
                            <i class="fas fa-share-alt"></i> Share
                        </button>
                    </div>
                    
                    <div id="downloadOptions" class="download-options">
                        <h4>Select Download Quality</h4>
                        <div class="quality-options">
                            <div class="quality-option" data-quality="hd">
                                <span class="quality-name">High Quality (HD)</span>
                                <span class="quality-size">~50MB</span>
                            </div>
                            <div class="quality-option" data-quality="sd">
                                <span class="quality-name">Standard Quality (SD)</span>
                                <span class="quality-size">~20MB</span>
                            </div>
                            <div class="quality-option" data-quality="audio">
                                <span class="quality-name">Audio Only (MP3)</span>
                                <span class="quality-size">~5MB</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="copyright-notice">
                        <strong>Disclaimer:</strong> This tool is for downloading videos you own or have permission to download. 
                        Downloading copyrighted content without permission may violate Facebook's Terms of Service and applicable laws. 
                        We are not responsible for misuse of this tool.
                    </div>
                </div>
            </div>
            
            <!-- Middle Ad Banner -->
            <div class="ad-container">
                <span class="ad-label">Advertisement</span>
                <!-- Google AdSense Ad Unit -->
                <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-YOUR_ADSENSE_ID"
                    crossorigin="anonymous"></script>
                <!-- Responsive Ad Unit -->
                <ins class="adsbygoogle"
                    style="display:block"
                    data-ad-client="ca-pub-YOUR_ADSENSE_ID"
                    data-ad-slot="YOUR_AD_SLOT"
                    data-ad-format="auto"
                    data-full-width-responsive="true"></ins>
                <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
            
            <div class="features">
                <div class="feature-card">
                    <i class="fas fa-film"></i>
                    <h3>High Quality Videos</h3>
                    <p>Watch and download Facebook videos in HD quality with crystal clear audio and video synchronization.</p>
                </div>
                
                <div class="feature-card">
                    <i class="fas fa-mobile-alt"></i>
                    <h3>Multi-Device Support</h3>
                    <p>Works perfectly on all your devices - smartphones, tablets, laptops and desktop computers.</p>
                </div>
                
                <div class="feature-card">
                    <i class="fas fa-bolt"></i>
                    <h3>Lightning Fast</h3>
                    <p>Optimized for speed with minimal ads and lightweight design for quick loading and smooth playback.</p>
                </div>
            </div>
            
            <!-- Bottom Ad Banner -->
            <div class="ad-container">
                <span class="ad-label">Advertisement</span>
                <!-- Google AdSense Ad Unit -->
                <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-YOUR_ADSENSE_ID"
                    crossorigin="anonymous"></script>
                <!-- Responsive Ad Unit -->
                <ins class="adsbygoogle"
                    style="display:block"
                    data-ad-client="ca-pub-YOUR_ADSENSE_ID"
                    data-ad-slot="YOUR_AD_SLOT"
                    data-ad-format="auto"
                    data-full-width-responsive="true"></ins>
                <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
        </main>
    </div>
    
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>FB Video Pro</h3>
                    <ul>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="features.html">Features</a></li>
                        <li><a href="pricing.html">Premium Plans</a></li>
                        <li><a href="faq.html">FAQ</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Legal</h3>
                    <ul>
                        <li><a href="terms.html">Terms of Service</a></li>
                        <li><a href="privacy.html">Privacy Policy</a></li>
                        <li><a href="copyright.html">Copyright Info</a></li>
                        <li><a href="dmca.html">DMCA</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Support</h3>
                    <ul>
                        <li><a href="contact.html">Contact Us</a></li>
                        <li><a href="help.html">Help Center</a></li>
                        <li><a href="feedback.html">Feedback</a></li>
                        <li><a href="status.html">Service Status</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Connect</h3>
                    <div class="social-links">
                        <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
            </div>
            
            <div class="copyright">
                <p>&copy; 2023 FB Video Pro. All rights reserved. This site is not affiliated with Facebook or Meta Platforms, Inc.</p>
            </div>
        </div>
    </footer>
    
    <!-- Toast Notification -->
    <div id="toast" class="toast">
        <i class="fas fa-check-circle"></i>
        <span id="toastMessage">Download started successfully!</span>
    </div>
    
    <script>
        // Mobile menu toggle
        document.querySelector('.mobile-menu').addEventListener('click', function() {
            document.querySelector('nav').classList.toggle('active');
        });
        
        // Video form submission
        document.getElementById('videoForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const videoUrl = document.getElementById('videoUrl').value.trim();
            
            if (!videoUrl) {
                showToast('Please enter a valid Facebook video URL', 'error');
                return;
            }
            
            // Extract video ID from URL
            let videoId = '';
            const regex = /(?:https?:\/\/)?(?:www\.)?(?:facebook\.com|fb\.watch)\/(?:[^\/]+\/)?(?:videos|watch|reel)\/(\d+)(?:.*)?/;
            const match = videoUrl.match(regex);
            
            if (match && match[1]) {
                videoId = match[1];
            } else {
                showToast('Invalid Facebook video URL. Please check the link and try again.', 'error');
                return;
            }
            
            // Embed the video
            const embedUrl = `https://www.facebook.com/plugins/video.php?href=https%3A%2F%2Fwww.facebook.com%2Ffacebook%2Fvideos%2F${videoId}%2F&show_text=0&width=560`;
            
            document.getElementById('embeddedVideo').src = embedUrl;
            document.getElementById('videoResult').style.display = 'block';
            document.getElementById('originalLink').href = videoUrl;
            
            // Scroll to the video
            document.getElementById('videoResult').scrollIntoView({ behavior: 'smooth' });
            
            // Update video info
            document.getElementById('videoTitle').textContent = 'Facebook Video';
            document.getElementById('viewCount').textContent = 'Loading...';
            document.getElementById('uploadDate').textContent = new Date().toLocaleDateString();
            
            // Hide download options if they're visible
            document.getElementById('downloadOptions').classList.remove('show');
            
            showToast('Video loaded successfully!', 'success');
        });
        
        // Download functionality
        document.getElementById('downloadBtn').addEventListener('click', function() {
            const videoUrl = document.getElementById('videoUrl').value.trim();
            const downloadBtn = this;
            const downloadOptions = document.getElementById('downloadOptions');
            
            if (!videoUrl) {
                showToast('Please enter a Facebook video URL first', 'error');
                return;
            }
            
            // Toggle download options visibility
            downloadOptions.classList.toggle('show');
            
            // If options are now visible, return (wait for quality selection)
            if (downloadOptions.classList.contains('show')) {
                return;
            }
            
            // Default to HD if options were hidden (direct click)
            initiateDownload(videoUrl, 'hd');
        });
        
        // Quality option selection
        document.querySelectorAll('.quality-option').forEach(option => {
            option.addEventListener('click', function() {
                const videoUrl = document.getElementById('videoUrl').value.trim();
                const quality = this.getAttribute('data-quality');
                
                if (!videoUrl) {
                    showToast('Please enter a Facebook video URL first', 'error');
                    return;
                }
                
                // Hide options
                document.getElementById('downloadOptions').classList.remove('show');
                
                // Initiate download
                initiateDownload(videoUrl, quality);
            });
        });
        
        // Share button functionality
        document.getElementById('shareBtn').addEventListener('click', function() {
            const videoUrl = document.getElementById('videoUrl').value.trim();
            
            if (!videoUrl) {
                showToast('Please load a video first', 'error');
                return;
            }
            
            if (navigator.share) {
                navigator.share({
                    title: 'Check out this Facebook video',
                    url: videoUrl
                }).catch(err => {
                    console.log('Error sharing:', err);
                    showToast('Sharing failed. Please try again.', 'error');
                });
            } else {
                // Fallback for browsers that don't support Web Share API
                navigator.clipboard.writeText(videoUrl).then(() => {
                    showToast('Link copied to clipboard!', 'success');
                }).catch(err => {
                    console.log('Could not copy text: ', err);
                    showToast('Failed to copy link', 'error');
                });
            }
        });
        
        function initiateDownload(videoUrl, quality) {
            const downloadBtn = document.getElementById('downloadBtn');
            const originalText = downloadBtn.innerHTML;
            
            // Show loading state
            downloadBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Preparing download...';
            downloadBtn.classList.add('loading');
            
            // Extract video ID
            let videoId = '';
            const regex = /(?:https?:\/\/)?(?:www\.)?(?:facebook\.com|fb\.watch)\/(?:[^\/]+\/)?(?:videos|watch|reel)\/(\d+)(?:.*)?/;
            const match = videoUrl.match(regex);
            
            if (match && match[1]) {
                videoId = match[1];
            } else {
                showToast('Invalid Facebook video URL', 'error');
                resetDownloadButton(downloadBtn, originalText);
                return;
            }
            
            // Simulate server processing delay
            setTimeout(() => {
                // In a real implementation, this would call your server-side endpoint
                processDownload(videoId, quality);
                
                // Reset button
                resetDownloadButton(downloadBtn, originalText);
            }, 1500);
        }
        
        function processDownload(videoId, quality) {
            // This is where you would actually initiate the download
            // For security reasons, downloads must be handled server-side
            
            console.log(`Processing download for video ${videoId} in ${quality} quality`);
            
            // Simulate different outcomes for demo purposes
            const random = Math.random();
            if (random < 0.7) {
                // Success case
                showToast(`Downloading ${quality} version...`, 'success');
                
                // In real implementation, this would redirect to your server endpoint:
                // window.location.href = `/download?video_id=${videoId}&quality=${quality}`;
                
                // For demo, simulate download after delay
                setTimeout(() => {
                    showToast('Download complete!', 'success');
                }, 2000);
            } else if (random < 0.9) {
                // Warning case (lower quality available)
                showToast(`HD quality not available. Downloading SD version instead.`, 'warning');
            } else {
                // Error case
                showToast('Download failed. Please try again later.', 'error');
            }
        }
        
        function resetDownloadButton(button, originalHtml) {
            button.innerHTML = originalHtml;
            button.classList.remove('loading');
        }
        
        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toastMessage');
            
            // Set message and type
            toastMessage.textContent = message;
            toast.className = 'toast ' + type;
            
            // Show toast
            toast.classList.add('show');
            
            // Hide after 3 seconds
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }
        
        // Google Analytics (replace with your actual GA tracking ID)
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-XXXXX-Y');
    </script>
</body>
</html>
